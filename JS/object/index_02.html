<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
        // Главное отличие обьектов от примитивов в том, что обьекты хранятся и копируются по ссылке. Примитивные значения: Строки, числа и тд - всегда копируются как целое значение

        // let message = 'Привет'
        // let pgarse = message
        // alert(pgarse)
        // pgarse = 'TEST'
        // alert(pgarse)
        // alert(message)
        // Получаем две независимые переменные. каждая из которыз хранит строку

        // Обьекты ведут себя иначе. 
        // Переменная которой присвоен обьект, хранит не сам обьект, а его "адрес в памяти", другими словами ссылку на него.

        // let user = {
        //     name: 'Давид',
        // }
        // Сам обьект хранится гдето в памяти.  Переменная user имеет лишь ссылку на него.

        // При копировании переменной обьекта копируется ссылка, но сам обьект не дублируется.
        // let user = {
        //     name: 'Давид',
        // }

        // let admin = user;
        // Теперь у нас двве переменные которые содержат ссылку на один и тот же обьект

        // admin.name = 'ТЕСТ'
        // alert(user.name)


        // Клонирование и объединение, Object.assign

        // Что если мы хотим работать с копией обьекта. В JS нет встроенного метода, но все же это выполнимо
        // Можно создать новый обьект и воспроизвести структуру существующего перебрав его своиства и скопировав их на примитивном уровне.
        // let user = {
        // name: "John",
        // age: 30
        // };
        // let d = {}

        // for (let key in user){
        //     d[key] = user[key]
        // }

        // d.name = 'Давид'
        // alert(d.name)
        // alert(user.name)




        // Можно использовать метод Object.assign
        // Object.assign(dest, [src1, src2, src3])
        // Первый аргумент dest — целевой объект.
        // Остальные аргументы src1, ..., srcN (может быть столько, сколько необходимо) являются исходными объектами
        // Метод копирует свойства всех исходных объектов src1, ..., srcN в целевой объект dest. Другими словами, свойства всех аргументов, начиная со второго, копируются в первый объект.
        // Возвращает объект dest.
        // let user = { name: "John" };

        // let permissions1 = { canView: true };
        // let permissions2 = { canEdit: true };

        // // копируем все свойства из permissions1 и permissions2 в user
        // Object.assign(user, permissions1, permissions2);


        let user = {
        name: "John"
        };

        let admin = user;

        user = null
        alert(admin.name)
        alert(user)

    </script>
</body>
</html>